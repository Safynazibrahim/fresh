"use strict";(self.webpackChunkGreenFinity=self.webpackChunkGreenFinity||[]).push([[243],{2243:(h,d,n)=>{n.r(d),n.d(d,{ProductsComponent:()=>P});var i=n(6814),l=n(1120),m=n(8129),c=n(95),t=n(4769);let a=(()=>{class r{transform(e,o){return e.filter(s=>s.title.toLowerCase().includes(o.toLowerCase()))}static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275pipe=t.Yjl({name:"search",type:r,pure:!0,standalone:!0})}return r})();var g=n(0),f=n(6286),C=n(2425);const _=function(r){return["/productdetails",r]};function v(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"h2",10),t._uU(5),t.ALo(6,"cuttext"),t.qZA(),t.TgZ(7,"span",11),t._uU(8),t.qZA(),t.TgZ(9,"div",12)(10,"span"),t._uU(11),t.ALo(12,"currency"),t.qZA(),t.TgZ(13,"span"),t._uU(14),t._UZ(15,"i",13),t.qZA()()(),t.TgZ(16,"div")(17,"button",14,15),t.NdJ("click",function(){const u=t.CHM(e).$implicit,A=t.MAs(18),Z=t.oxw(2);return t.KtG(Z.addProduct(u.id,A))}),t._uU(19,"+ Add To Cart "),t._UZ(20,"i",16),t.qZA()()()}if(2&r){const e=p.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(14,_,e.id)),t.xp6(2),t.Q6J("src",e.imageCover,t.LSH)("title",e.title)("alt",e.title),t.xp6(2),t.Oqu(t.xi3(6,8,e.title,3)),t.xp6(3),t.Oqu(e.productCategory),t.xp6(3),t.Oqu(t.xi3(12,11,e.price,"EGP")),t.xp6(3),t.hij(" ",e.ratingsAverage," ")}}function x(r,p){if(1&r){const e=t.EpF();t.TgZ(0,"section",1)(1,"h2",2),t._uU(2,"All Products"),t.qZA(),t.TgZ(3,"input",3),t.NdJ("ngModelChange",function(s){t.CHM(e);const u=t.oxw();return t.KtG(u.term=s)}),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,v,21,16,"div",5),t.ALo(6,"search"),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.term),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,2,e.products,e.term))}}let P=(()=>{class r{constructor(e,o,s,u){this._ProductService=e,this._CartService=o,this._ToastrService=s,this._Renderer2=u,this.products=[],this.term="",this.minPrice=null,this.maxPrice=null}ngOnInit(){this._ProductService.getProducts().subscribe({next:e=>{console.log(e.data),this.products=e.data}})}addProduct(e,o){this._Renderer2.setAttribute(o,"disabled","true"),this._CartService.addToCart(e).subscribe({next:s=>{console.log("basket",s),console.log(s.message),this._ToastrService.success(s.message),this._Renderer2.removeAttribute(o,"disabled"),this._CartService.cartNumber.next(s.numOfCartItems)},error:s=>{this._Renderer2.removeAttribute(o,"disabled")}})}static#t=this.\u0275fac=function(o){return new(o||r)(t.Y36(g.M),t.Y36(f.N),t.Y36(C._W),t.Y36(t.Qsj))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-products"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","py-3 w-75 mx-auto my-3",4,"ngIf"],[1,"py-3","w-75","mx-auto","my-3"],[1,"text-center"],["type","text","placeholder","Search....",1,"w-50","mx-auto","form-control","my-3",3,"ngModel","ngModelChange"],[1,"row","g-4"],["class","col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3"],["role","button",3,"routerLink"],[1,"item"],[3,"src","title","alt"],[1,"h4"],[1,"text-main"],[1,"d-flex","align-items-center","justify-content-between","my-3"],[1,"fas","fa-star","rating-color"],[1,"main-btn","w-100",3,"click"],["btnAdd",""],[1,"fa-solid","fa-cart-shopping"]],template:function(o,s){1&o&&t.YNc(0,x,7,5,"section",0),2&o&&t.Q6J("ngIf",s.products.length>0)},dependencies:[i.ez,i.sg,i.O5,i.H9,l.rH,m.r,a,c.u5,c.Fj,c.JJ,c.On],styles:[".item[_ngcontent-%COMP%]{overflow:hidden}.item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:all .8s}.item[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{scale:1.1}.section[_ngcontent-%COMP%]{background-color:#fff}"]})}return r})()},0:(h,d,n)=>{n.d(d,{M:()=>m});var i=n(4769),l=n(9862);let m=(()=>{class c{constructor(a){this._HttpClient=a,this.baseUrl="https://ecommerce.routemisr.com/api/v1/"}getProducts(){return this._HttpClient.get(this.baseUrl+"products")}getCategories(){return this._HttpClient.get(this.baseUrl+"categories")}getProductDetails(a){return this._HttpClient.get(this.baseUrl+`products/${a}`)}static#t=this.\u0275fac=function(g){return new(g||c)(i.LFG(l.eN))};static#e=this.\u0275prov=i.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);